<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.4.1 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>Home Network Redesign Part 1 - Technobabble</title>




<meta name="description" content="For part 1, I wiped the 2901 and began setting up a basic configuration">




<meta name="author" content="Sean Dunbar">

<meta property="og:locale" content="en">
<meta property="og:site_name" content="Technobabble">
<meta property="og:title" content="Home Network Redesign Part 1">


  <link rel="canonical" href="https://sdunbar.me/home-network-redesign-part-1/">
  <meta property="og:url" content="https://sdunbar.me/home-network-redesign-part-1/">



  <meta property="og:description" content="For part 1, I wiped the 2901 and began setting up a basic configuration">



  <meta name="twitter:site" content="@venomireland">
  <meta name="twitter:title" content="Home Network Redesign Part 1">
  <meta name="twitter:description" content="For part 1, I wiped the 2901 and began setting up a basic configuration">
  <meta name="twitter:url" content="https://sdunbar.me/home-network-redesign-part-1/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://sdunbar.me/assets/images/site-logo.jpg">
    
  

  
    <meta name="twitter:creator" content="@Sean Dunbar">
  



  

  



  <meta property="og:image" content="https://sdunbar.me/assets/images/site-logo.jpg">



  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2016-08-15T00:00:00+00:00">






  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://sdunbar.me",
      "logo": "https://sdunbar.me/assets/images/site-logo.jpg"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Sean Dunbar",
      "url" : "https://sdunbar.me",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="https://sdunbar.me/feed.xml" type="application/atom+xml" rel="alternate" title="Technobabble Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://sdunbar.me/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<meta http-equiv="cleartype" content="on">
    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="https://sdunbar.me/">Technobabble</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item"><a href="https://sdunbar.me/cv/">Curriculum Vitae</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://sdunbar.me/categories/#college">College Work</a></li>
          
        </ul>
        <button><div class="navicon"></div></button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    
  







<div class="page__hero--overlay"
  style="background-color: #333; "
>
  
    <div class="wrapper">
      <h1 class="page__title" itemprop="headline">
        
          Home Network Redesign Part 1

        
      </h1>
      
        <p class="page__lead">For part 1, I wiped the 2901 and began setting up a basic configuration
</p>
      
      
      
    </div>
  
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  

<div itemscope itemtype="http://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="https://sdunbar.me/assets/images/bio-photo.jpg" class="author__avatar" alt="Sean Dunbar" itemprop="image">
      
    </div>
  

  <div class="author__content">
    <h3 class="author__name" itemprop="name">Sean Dunbar</h3>
    
      <p class="author__bio" itemprop="description">
        I am 22 year old male currently working at Google in the Internal Technology Resident Program
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
          <i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> <span itemprop="name">Dublin</span>
        </li>
      

      

      
        <li>
          <a href="mailto:sean@sdunbar.me">
            <meta itemprop="email" content="sean@sdunbar.me" />
            <i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      
        <li>
          <a href="https://twitter.com/venomireland" itemprop="sameAs">
            <i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter
          </a>
        </li>
      

      

      

      
        <li>
          <a href="https://www.linkedin.com/in/sean-dunbar-46687670" itemprop="sameAs">
            <i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn
          </a>
        </li>
      

      

      

      

      

      
        <li>
          <a href="https://github.com/ajubatus" itemprop="sameAs">
            <i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      
        <li>
          <a href="https://steamcommunity.com/id/venomireland" itemprop="sameAs">
            <i class="fa fa-fw fa-steam-square" aria-hidden="true"></i> Steam
          </a>
        </li>
      

      
        
          <li>
            <a href="https://www.youtube.com/channel/UCbsN9ZP_h4_joiB8zE7FpiQ" itemprop="sameAs">
              <i class="fa fa-fw fa-youtube-square" aria-hidden="true"></i> YouTube
            </a>
          </li>
        
      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fa fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Home Network Redesign Part 1">
    <meta itemprop="description" content="For part 1, I wiped the 2901 and began setting up a basic configuration">
    <meta itemprop="datePublished" content="August 15, 2016">
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        <p>For part 1, I started with double checking the 2901 was in a working condition and wiping it of the previous ownerâ€™s information. I was shocked to find the routing information and configuration from the networking company that it used to belong to was still present on the device. After wiping, I set the hostname and began working on a basic configuration.</p>

<p>I started with addressing and on-lining the interfaces. I then added a default route for all traffic destined for the internet.</p>

<h3 id="interface-setup">Interface setup:</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>Dunbar-Router(config)#interface gigabitEthernet 0/0  
Dunbar-Router(config-if)#ip address 192.168.1.101 255.255.255.0  
Dunbar-Router(config-if)#ip nat outside

Dunbar-Router(config)#interface GigabitEthernet0/1  
Dunbar-Router(config-if)#ip address 192.168.0.1 255.255.255.0  
Dunbar-Router(config-if)#ip nat inside  
</code></pre>
</div>

<h3 id="dhcp-setup">DHCP setup:</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>Dunbar-Router(config)#ip dhcp pool DHCPPOOL  
Dunbar-Router(dhcp-config)#network 192.168.0.0 255.255.255.0  
Dunbar-Router(dhcp-config)#default  
Dunbar-Router(dhcp-config)#default-router 192.168.0.1  
Dunbar-Router(dhcp-config)#dns-s  
Dunbar-Router(dhcp-config)#dns-server 8.8.8.8 8.8.4.4  
Dunbar-Router(dhcp-config)#lease 0 12 0

Dunbar-Router(config)#ip dhcp excluded-address 192.168.0.1 192.168.0.99
</code></pre>
</div>

<h3 id="pat-and-default-route-setup">PAT and default route setup:</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>Dunbar-Router(config)#interface gigabitEthernet 0/0  
Dunbar-Router(config-if)#ip nat outside

Dunbar-Router(config)#interface gigabitEthernet 0/1  
Dunbar-Router(config-if)#ip nat inside

Dunbar-Router(config)#access-list 1 permit 192.168.0.0 0.0.0.255  
Dunbar-Router(config)#ip nat inside source list 1 interface gigabitEthernet 0/0 overload
Dunbar-Router(config)#ip route 0.0.0.0 0.0.0.0 gigabitEthernet 0/0
</code></pre>
</div>

<p>I then set up some static port translations (port forwarding). This is used for the numerous services I run on my media server, allowing me external access to these services.</p>

<h3 id="port-forwards">Port forwards:</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>Dunbar-Router(config)#ip nat inside source static tcp $serverAddress $serverPort $outsideInterfaceAddress $extendablePort extendable  
</code></pre>
</div>

<p>For this router I am using a local user for authentication</p>

<p>Next I create a local user and enable SSH on the vty lines, then secure it with a password:</p>

<h3 id="local-user-and-ssh">Local user and SSH:</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>Dunbar-Router(config)#username $username password $password
Dunbar-Router(config)#enable secret

Dunbar-Router(config)#crypto key generate rsa

Dunbar-Router(config)#line vty 0 4  
Dunbar-Router(config-line)#transport input ssh  
Dunbar-Router(config-line)#login local  
Dunbar-Router(config-line)#password $password
Dunbar-Router(config-line)#exit

Dunbar-Router(config)#line console 0  
Dunbar-Router(config-line)# logging synchronous  
Dunbar-Router(config-line)# login local
</code></pre>
</div>

<p>With these basic steps completed, I then moved the router the the LACKRACK I had previously constructed. This is an IKEA LACK table, with IKEA BYGEL towel racks screwed into the legs. This provides a cheap alternative to a dedicated rack. In the future, I plan to purchase a more suitable rack, but this will do for now.</p>

<p>In the future, I will take a look back at the security and further harden the router. As it stands right now, the router is complete overkill for my home network and should last longer than all the devices in the network.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://sdunbar.me/tags/#networking" class="page__taxonomy-item" rel="tag">Networking</a>
    
    </span>
  </p>




        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-08-15T00:00:00+00:00">August 15, 2016</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=venomireland&text=Home Network Redesign Part 1 https://sdunbar.me/home-network-redesign-part-1/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://sdunbar.me/home-network-redesign-part-1/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=https://sdunbar.me/home-network-redesign-part-1/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://sdunbar.me/home-network-redesign-part-1/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="https://sdunbar.me/home-network-redesign-overview/" class="pagination--pager" title="Home Network Redesign Overview
">Previous</a>
    
    
      <a href="https://sdunbar.me/guides/migrating-from-iredmail-to-an-alternative-solution/" class="pagination--pager" title="Migrating From Iredmail To An Alternative Solution
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "https://sdunbar.me/assets/images/teaser.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="https://sdunbar.me/personal/sfg-week3/" rel="permalink">Square Foot Gardening, Week 3
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  less than 1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Third Week of Square Foot Gardening
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "https://sdunbar.me/assets/images/teaser.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="https://sdunbar.me/personal/sfg-week2/" rel="permalink">Square Foot Gardening, Week 2
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  less than 1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Second Week of Square Foot Gardening
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "https://sdunbar.me/assets/images/teaser.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="https://sdunbar.me/personal/sfg-week1/" rel="permalink">Square Foot Gardening, Week 1
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">First Week of Square Foot Gardening
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "https://sdunbar.me/assets/images/teaser.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="https://sdunbar.me/college/final-year-project/" rel="permalink">Final Year Project - Preliminary Report
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  42 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">This is the preliminary report I submitted for my Final Year Project in DT080B
</p>
  </article>
</div>
        
      </div>
    </div>
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/venomireland"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/ajubatus"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="https://sdunbar.me/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2017 Sean Dunbar. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="https://sdunbar.me/assets/js/main.min.js"></script>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-66918213-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>






  </body>
</html>
